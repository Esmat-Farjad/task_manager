

<div class=" mt-5 first-item">
    <h5 class="text-center">
        All Assigned Tasks
    </h5>
<div class="row">
    {% if data %}
    {% for task in data %}
    <div class="col-6">
        <!--the card design starts-->
        {% if task.status == 1 %}
        <div class="card shadow my-2 border border-success border-2">
            {% elif task.status == -1 %}
            <div class="card shadow my-2 border border-danger border-2">
                {% elif task.status == 80 or task.status == 50 %}
                <div class="card shadow my-2 border border-warning border-2">
                    {% elif task.status == 100 %}
                    <div class="card shadow my-2 border border-primary border-2">
                        {% else %}
                        <div class="card shadow my-2 border border-secondary border-opacity-50">
                            {% endif %}
                            <!-- the card design ends-->
                            <div class="card-header bg-white">
                                <p class="fw-bold pt-3">{{task.task_name}}</p>
                            </div>
                            <div class="card-body scrollable">
                                <p>{{task.task_desc}}</p>
                                <div class="fs-6">
                                    <small class="me-5"><b>Start Date: </b><i class="fa-solid fa-calendar-day"></i>
                                        &nbsp;{{task.start_date}}</small>
                                    <small class=" ms-5"><b>Dead line: <i class="fa-regular fa-calendar"></i>&nbsp;
                                        </b>{{task.end_date}}</small>
                                    <p>
                                        <b>Assigned By: </b>
                                        {% if task.assign_by_id.get_full_name == '' %}
                                        <span class="text-primary">Administrator</span>
                                        {% else %}
                                        {{task.assign_by.get_full_name}}
                                        {% endif %}
                                    </p>
                                </div>
                            </div>
                            <div class="card-footer bg-white">
                                <span class="fw-bold">Status: </span>
                                {% if task.status == -1 and task.assign_by_id == request.user.id %}
                                <p class=""><i class="fa-solid fa-circle-info text-warning fs-5"></i> Expired </p>
                                <a href="" class="nav-link">
                                    <i class="fa-solid fa-arrow-up-right-from-square"></i> &nbsp; Evaluate
                                </a>
                                {% elif task.status == -1 and task.assign_by_id != request.user.id %}
                                <p class="">
                                    <i class="fa-solid fa-circle-info text-warning fs-5"></i> Expired
                                </p>
                                {% elif task.status == 1 and task.assign_by_id == request.user.id %}
                                <p>
                                    <i class="fa-solid fa-circle text-success fs-5"></i>&nbsp; Active
                                    <a href="" class="nav-link text-danger">Cancel</a>
                                </p>
                                {% elif task.status == 1 and task.assign_by_id != request.user.id %}
                                <p class="p-0 m-0 d-inline">
                                    <span class="text-success">Active</span>&nbsp;
                                    <i class="fa-solid fa-circle text-success"></i>
                                    <span class="d-flex justify-content-start">
                                        <a href="{% url 'taskmanager:update_tasks' task.id 'start' %}"
                                            class="nav-link bg-maroon text-light py-2 px-3 shadow btn my-2">start</a>
                                    </span>
                                </p>
                                {% elif task.status == 50 and task.assign_by_id == request.user.id %}
                                <div class="progress">
                                    <div class="progress-bar progress-bar-striped active" role="progressbar"
                                        aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width:50%">
                                        50% completed
                                    </div>
                                </div>
                                {% elif task.status == 50 and task.assign_by_id != request.user.id %}
                                <div class="progress">
                                    <div class="progress-bar progress-bar-striped active" role="progressbar"
                                        aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width:50%">
                                        50% completed
                                    </div>
                                </div>
                                <span class="d-flex justify-content-start">
                                    <a href="{% url 'taskmanager:update_tasks' task.id 'done' %}"
                                        class="nav-link bg-maroon text-light py-2 px-3 shadow btn my-2">complete</a>
                                </span>
                                {% elif task.status == 80 and task.assign_by_id == request.user.id %}
                                <div class="progress">
                                    <div class="progress-bar progress-bar-striped active" role="progressbar"
                                        aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width:80%">
                                        80% completed
                                    </div>
                                </div>
                                <span class="d-flex justify-content-start">
                                    <a href="{% url 'taskmanager:task_evaluate' task.id %}"
                                        class="nav-link bg-maroon text-light py-2 px-3 shadow btn my-2">
                                        <i class="fa-regular fa-circle-check"></i>&nbsp;Confirm</a>
                                </span>
                                {% elif task.status == 80 and task.assign_by_id != request.user.id %}
                                <p>
                                    <i class="fa-solid fa-arrows-spin fa-spin text-primary fs-5"></i>&nbsp;
                                    confirming...
                                </p>
                                {% elif task.status == 100 %}
                                <p class="text-success">
                                    <i class="fa-solid fa-circle-check"></i>&nbsp; Completed
                                </p>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                    <!-- task card ends -->
                    {% else %}
                    <div class="text-center my-5 text-secondary">
                        <h1 class="empty-folder"><i class="fa-regular fa-folder-open"></i></h1>
                        <h3 class="fw-bold">Oops... ! No Record Found.&nbsp;<i class="fa-solid fa-chart-simple"></i>
                        </h3>
                    </div>
                    {% endif %}
                </div>
            </div>
            <!-- collapse Example for evaluation -->
    <div class="d-flex justify-content-center">
        <a href="{% url 'taskmanager:assign_task' %}" class="nav-link mx-3"><i
                class="fa-regular fa-paper-plane"></i>&nbsp;Assign Task</a>
    </div>


